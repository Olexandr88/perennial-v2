import { utils } from 'ethers'
import {
  MarketParameterStruct,
  RiskParameterStruct,
} from '../../types/generated/@equilibria/perennial-v2/contracts/Market'
import { ProtocolParameterStruct } from '../../types/generated/@equilibria/perennial-v2/contracts/MarketFactory'

export const NewRiskParams: Record<string, [string, RiskParameterStruct]> = {
  XRP: [
    '0x2402E92f8C58886F716F5554039fA6398d7A1EfB',
    {
      margin: '19500',
      maintenance: '16000',
      takerFee: {
        linearFee: '600',
        proportionalFee: '200',
        adiabaticFee: '1600',
        scale: '860000000000',
      },
      makerFee: {
        linearFee: '100',
        proportionalFee: '0',
        adiabaticFee: '0',
        scale: '860000000000',
      },
      makerLimit: '2500000000000',
      efficiencyLimit: '500000',
      liquidationFee: '5000000',
      utilizationCurve: {
        minRate: '0',
        maxRate: '450000',
        targetRate: '450000',
        targetUtilization: '670000',
      },
      pController: {
        k: '11520000000',
        min: '-1860000',
        max: '1860000',
      },
      minMargin: '15000000',
      minMaintenance: '10000000',
      staleAfter: '40',
      makerReceiveOnly: false,
    },
  ],
  ETH: [
    '0x90A664846960AaFA2c164605Aebb8e9Ac338f9a0',
    {
      margin: '9500',
      maintenance: '8000',
      takerFee: {
        linearFee: '400',
        proportionalFee: '200',
        adiabaticFee: '1200',
        scale: '600000000',
      },
      makerFee: {
        linearFee: '100',
        proportionalFee: '0',
        adiabaticFee: '0',
        scale: '600000000',
      },
      makerLimit: '3010000000',
      efficiencyLimit: '500000',
      liquidationFee: '5000000',
      utilizationCurve: {
        minRate: '0',
        maxRate: '300000',
        targetRate: '300000',
        targetUtilization: '670000',
      },
      pController: {
        k: '18432000000',
        min: '-1750000',
        max: '1750000',
      },
      minMargin: '15000000',
      minMaintenance: '10000000',
      staleAfter: '40',
      makerReceiveOnly: false,
    },
  ],
  ARB: [
    '0x3D1D603073b3CEAB5974Db5C54568058a9551cCC',
    {
      margin: '19500',
      maintenance: '16000',
      takerFee: {
        linearFee: '600',
        proportionalFee: '300',
        adiabaticFee: '1800',
        scale: '230000000000',
      },
      makerFee: {
        linearFee: '100',
        proportionalFee: '0',
        adiabaticFee: '0',
        scale: '230000000000',
      },
      makerLimit: '552630000000',
      efficiencyLimit: '500000',
      liquidationFee: '5000000',
      utilizationCurve: {
        minRate: '0',
        maxRate: '450000',
        targetRate: '450000',
        targetUtilization: '670000',
      },
      pController: {
        k: '10368000000',
        min: '-2190000',
        max: '2190000',
      },
      minMargin: '15000000',
      minMaintenance: '10000000',
      staleAfter: '40',
      makerReceiveOnly: false,
    },
  ],
  MATIC: [
    '0x7e34B5cBc6427Bd53ECFAeFc9AC2Cad04e982f78',
    {
      margin: '19500',
      maintenance: '16000',
      takerFee: {
        linearFee: '600',
        proportionalFee: '600',
        adiabaticFee: '2400',
        scale: '570000000000',
      },
      makerFee: {
        linearFee: '100',
        proportionalFee: '0',
        adiabaticFee: '0',
        scale: '570000000000',
      },
      makerLimit: '1200000000000',
      efficiencyLimit: '500000',
      liquidationFee: '5000000',
      utilizationCurve: {
        minRate: '0',
        maxRate: '450000',
        targetRate: '450000',
        targetUtilization: '670000',
      },
      pController: {
        k: '8640000000',
        min: '-1750000',
        max: '1750000',
      },
      minMargin: '15000000',
      minMaintenance: '10000000',
      staleAfter: '40',
      makerReceiveOnly: false,
    },
  ],
  SOL: [
    '0x02258bE4ac91982dc1AF7a3D2C4F05bE6079C253',
    {
      margin: '19500',
      maintenance: '16000',
      takerFee: {
        linearFee: '600',
        proportionalFee: '400',
        adiabaticFee: '2000',
        scale: '7900000000',
      },
      makerFee: {
        linearFee: '100',
        proportionalFee: '0',
        adiabaticFee: '0',
        scale: '7900000000',
      },
      makerLimit: '15650000000',
      efficiencyLimit: '500000',
      liquidationFee: '5000000',
      utilizationCurve: {
        minRate: '0',
        maxRate: '450000',
        targetRate: '450000',
        targetUtilization: '670000',
      },
      pController: {
        k: '13824000000',
        min: '-2630000',
        max: '2630000',
      },
      minMargin: '15000000',
      minMaintenance: '10000000',
      staleAfter: '40',
      makerReceiveOnly: false,
    },
  ],
  BTC: [
    '0xcC83e3cDA48547e3c250a88C8D5E97089Fd28F60',
    {
      margin: '9500',
      maintenance: '8000',
      takerFee: {
        linearFee: '400',
        proportionalFee: '100',
        adiabaticFee: '1000',
        scale: '34000000',
      },
      makerFee: {
        linearFee: '100',
        proportionalFee: '0',
        adiabaticFee: '0',
        scale: '34000000',
      },
      makerLimit: '99000000',
      efficiencyLimit: '500000',
      liquidationFee: '5000000',
      utilizationCurve: {
        minRate: '0',
        maxRate: '300000',
        targetRate: '300000',
        targetUtilization: '670000',
      },
      pController: {
        k: '16128000000',
        min: '-1530000',
        max: '1530000',
      },
      minMargin: '15000000',
      minMaintenance: '10000000',
      staleAfter: '40',
      makerReceiveOnly: false,
    },
  ],
  'BTC^2': [
    '0x768a5909f0B6997efa56761A89344eA2BD5560fd',
    {
      margin: '97500',
      maintenance: '80000',
      takerFee: {
        linearFee: '1500',
        proportionalFee: '1200',
        adiabaticFee: '2800',
        scale: '260000000',
      },
      makerFee: {
        linearFee: '100',
        proportionalFee: '0',
        adiabaticFee: '0',
        scale: '260000000',
      },
      makerLimit: '240000000',
      efficiencyLimit: '1000000',
      liquidationFee: '5000000',
      utilizationCurve: {
        minRate: '0',
        maxRate: '1800000',
        targetRate: '1200000',
        targetUtilization: '500000',
      },
      pController: {
        k: '8640000000',
        min: '-3070000',
        max: '3070000',
      },
      minMargin: '15000000',
      minMaintenance: '10000000',
      staleAfter: '40',
      makerReceiveOnly: false,
    },
  ],
  LINK: [
    '0xD9c296A7Bee1c201B9f3531c7AC9c9310ef3b738',
    {
      margin: '19500',
      maintenance: '16000',
      takerFee: {
        linearFee: '600',
        proportionalFee: '700',
        adiabaticFee: '2600',
        scale: '36000000000',
      },
      makerFee: {
        linearFee: '100',
        proportionalFee: '0',
        adiabaticFee: '0',
        scale: '36000000000',
      },
      makerLimit: '94740000000',
      efficiencyLimit: '500000',
      liquidationFee: '5000000',
      utilizationCurve: {
        minRate: '0',
        maxRate: '450000',
        targetRate: '450000',
        targetUtilization: '670000',
      },
      pController: {
        k: '11520000000',
        min: '-2630000',
        max: '2630000',
      },
      minMargin: '15000000',
      minMaintenance: '10000000',
      staleAfter: '40',
      makerReceiveOnly: false,
    },
  ],
  JUP: [
    '0xbfa99F19a376F25968865983c41535fa368B28da',
    {
      margin: '37000',
      maintenance: '32000',
      takerFee: {
        linearFee: '800',
        proportionalFee: '2100',
        adiabaticFee: '5800',
        scale: '360000000000',
      },
      makerFee: {
        linearFee: '100',
        proportionalFee: '0',
        adiabaticFee: '0',
        scale: '360000000000',
      },
      makerLimit: '250009000000',
      efficiencyLimit: '1000000',
      liquidationFee: '5000000',
      utilizationCurve: {
        minRate: '0',
        maxRate: '750000',
        targetRate: '750000',
        targetUtilization: '500000',
      },
      pController: {
        k: '2880000000',
        min: '-3500000',
        max: '3500000',
      },
      minMargin: '15000000',
      minMaintenance: '10000000',
      staleAfter: '40',
      makerReceiveOnly: false,
    },
  ],
  'ETH^2': [
    '0x004E1Abf70e4FF99BC572843B63a63a58FAa08FF',
    {
      margin: '97500',
      maintenance: '80000',
      takerFee: {
        linearFee: '1500',
        proportionalFee: '1200',
        adiabaticFee: '2800',
        scale: '9000000000',
      },
      makerFee: {
        linearFee: '100',
        proportionalFee: '0',
        adiabaticFee: '0',
        scale: '9000000000',
      },
      makerLimit: '5410000000',
      efficiencyLimit: '1000000',
      liquidationFee: '5000000',
      utilizationCurve: {
        minRate: '0',
        maxRate: '1800000',
        targetRate: '1200000',
        targetUtilization: '500000',
      },
      pController: {
        k: '9216000000',
        min: '-3500000',
        max: '3500000',
      },
      minMargin: '15000000',
      minMaintenance: '10000000',
      staleAfter: '40',
      makerReceiveOnly: false,
    },
  ],
  RLB: [
    '0x708B750f9f5bD23E074a5a0A64EF542585906e85',
    {
      margin: '195000',
      maintenance: '160000',
      takerFee: {
        linearFee: '800',
        proportionalFee: '6000',
        adiabaticFee: '13600',
        scale: '360000000000',
      },
      makerFee: {
        linearFee: '100',
        proportionalFee: '0',
        adiabaticFee: '0',
        scale: '360000000000',
      },
      makerLimit: '384616000000',
      efficiencyLimit: '800000',
      liquidationFee: '5000000',
      utilizationCurve: {
        minRate: '0',
        maxRate: '750000',
        targetRate: '750000',
        targetUtilization: '550000',
      },
      pController: {
        k: '960000000',
        min: '-7500000',
        max: '7500000',
      },
      minMargin: '15000000',
      minMaintenance: '10000000',
      staleAfter: '40',
      makerReceiveOnly: false,
    },
  ],
  TIA: [
    '0x2CD8651b0dB6bE605267fdd737C840442A96fAFE',
    {
      margin: '37000',
      maintenance: '32000',
      takerFee: {
        linearFee: '800',
        proportionalFee: '1100',
        adiabaticFee: '3800',
        scale: '30000000000',
      },
      makerFee: {
        linearFee: '100',
        proportionalFee: '0',
        adiabaticFee: '0',
        scale: '30000000000',
      },
      makerLimit: '12730000000',
      efficiencyLimit: '1000000',
      liquidationFee: '5000000',
      utilizationCurve: {
        minRate: '0',
        maxRate: '750000',
        targetRate: '750000',
        targetUtilization: '500000',
      },
      pController: {
        k: '1536000000',
        min: '-3500000',
        max: '3500000',
      },
      minMargin: '15000000',
      minMaintenance: '10000000',
      staleAfter: '40',
      makerReceiveOnly: false,
    },
  ],
  BNB: [
    '0x362c6bC2A4EA2033063bf20409A4c5E8C5754056',
    {
      margin: '19500',
      maintenance: '16000',
      takerFee: {
        linearFee: '600',
        proportionalFee: '300',
        adiabaticFee: '1800',
        scale: '1700000000',
      },
      makerFee: {
        linearFee: '100',
        proportionalFee: '0',
        adiabaticFee: '0',
        scale: '1700000000',
      },
      makerLimit: '1170000000',
      efficiencyLimit: '800000',
      liquidationFee: '5000000',
      utilizationCurve: {
        minRate: '0',
        maxRate: '550000',
        targetRate: '550000',
        targetUtilization: '550000',
      },
      pController: {
        k: '4608000000',
        min: '-1860000',
        max: '1860000',
      },
      minMargin: '15000000',
      minMaintenance: '10000000',
      staleAfter: '40',
      makerReceiveOnly: false,
    },
  ],
  XAU: [
    '',
    {
      margin: '9500',
      maintenance: '8000',
      takerFee: {
        linearFee: '300',
        proportionalFee: '200',
        adiabaticFee: '1000',
        scale: '4500000000',
      },
      makerFee: {
        linearFee: '100',
        proportionalFee: '0',
        adiabaticFee: '0',
        scale: '4500000000',
      },
      makerLimit: '450000000',
      efficiencyLimit: '1000000',
      liquidationFee: '5000000',
      utilizationCurve: {
        minRate: '0',
        maxRate: '85000',
        targetRate: '85000',
        targetUtilization: '500000',
      },
      pController: {
        k: '130000000000',
        min: '-500000',
        max: '500000',
      },
      minMargin: '50000000',
      minMaintenance: '40000000',
      staleAfter: '40',
      makerReceiveOnly: false,
    },
  ],
}

export const NewMarketParameter: MarketParameterStruct = {
  fundingFee: utils.parseUnits('0.05', 6),
  interestFee: utils.parseUnits('0.05', 6),
  positionFee: utils.parseUnits('0.05', 6),
  oracleFee: 0,
  riskFee: utils.parseUnits('1', 6),
  maxPendingGlobal: 12,
  maxPendingLocal: 6,
  settlementFee: utils.parseUnits('0.2', 6),
  takerCloseAlways: true,
  makerCloseAlways: false,
  closed: false,
  settle: false,
}

export const NewProtocolParameter: ProtocolParameterStruct = {
  protocolFee: 0,
  maxFee: 14200,
  maxFeeAbsolute: 50000000,
  maxCut: 100000,
  maxRate: 15000000,
  minMaintenance: 4000,
  minEfficiency: 250000,
  referralFee: 0,
}
